<script src="//ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script>
    window.jQuery || document.write('<script src="{{ site.baseurl }}/js/vendor/jquery-3.1.1.min.js"><\/script>')
</script>
<script src="{{ site.baseurl }}/js/plugins.js?{{site.time | date: '%s%N'}}"></script>
<script src="{{ site.baseurl }}/js/main.js?{{site.time | date: '%s%N'}}"></script>
{% if 'list' == page.layout %}
<script src="{{ site.baseurl }}/js/vendor/list.min.js?{{site.time | date: '%s%N'}}"></script>
<script src="{{ site.baseurl }}/js/list.js?{{site.time | date: '%s%N'}}"></script>
{% endif %}
{% if 'calendar' == page.layout %}
<script src='{{ site.baseurl }}/vendor/fullcalendar-3.9.0/lib/moment.min.js'></script>
<script src='{{ site.baseurl }}/vendor/fullcalendar-3.9.0/fullcalendar.min.js'></script>
<script src='{{ site.baseurl }}/vendor/fullcalendar-3.9.0/locale-all.js'></script>
<script>

  $(document).ready(function() {

    $('#calendar').fullCalendar({
      header: {
        left: 'prev,next',
        center: 'title',
        right: 'agendaDay listDay'
      },
      allDaySlot: false,
      defaultDate: '2018-08-18',
      defaultView: 'agendaDay',
      minTime: '10:00:00',
      maxTime: '23:00:00',
      locale: 'nl-be',
      groupByResource: true,
      buttonIcons: true, // show the prev/next text
      weekNumbers: false,
      navLinks: true, // can click day/week names to navigate views
      editable: false,
      eventLimit: true, // allow "more" link when too many events

      eventSources: [

            // your event source
            {
              url: '{{ site.baseurl }}/track1.json', // use the `url` property
              //color: 'yellow',    // an option!
              className: 'track1',
              textColor: 'black'  // an option!
            },
            {
              url: '{{ site.baseurl }}/track2.json', // use the `url` property
              //color: 'green',    // an option!
              className: 'track2',
              textColor: 'black'  // an option!
            },
            {
              url: '{{ site.baseurl }}/track3.json', // use the `url` property
              //color: 'blue',    // an option!
              className: 'track3',
              textColor: 'black' // an option!
            }

            // any other sources...

      ],

        eventClick: function(calEvent, jsEvent, view) {

          $(".calendar-preview .desc").text(calEvent.desc);
          $(".calendar-preview h2").text(calEvent.title);
          $(".calendar-preview .location").text(calEvent.location);
          $(".calendar-preview .type").text(calEvent.type);
          $(".popover-wrapper").show();
          $(".calendar-preview").show();

          /*alert('Event: ' + calEvent.title);
          alert('Coordinates: ' + jsEvent.pageX + ',' + jsEvent.pageY);
          alert('View: ' + view.name);

          // change the border color just for fun
          $(this).css('border-color', 'red');*/
          $(this).addClass('calevent-selected');

        }
    });

    $(".popover-wrapper").click(function(e){
        //e.preventDefault();
        document.getSelection().removeAllRanges();
        $(".popover-wrapper").hide();

        $(".fc-event").removeClass('calevent-selected');
    });

    $(".popover-wrapper").hide();

  });
</script>
{% endif %}
